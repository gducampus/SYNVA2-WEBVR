<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Scene 1</title>
    <script src="https://aframe.io/releases/1.1.0/aframe.min.js"></script>
</head>
<body>
<a-scene>
    <a-assets>

    </a-assets>
    <a-camera>
        <a-entity cursor position="0 0 -1"
                  geometry="primitive: sphere; radius: 0.01"
                  material="color: #000000; shader: flat; opacity: 0.5">
        </a-entity>

    </a-camera>
    <a-text id="prenom" font="kelsonsans" value="Bonjour Richard" width="6" position="0 5 -6" color="blue"></a-text>
    <a-text id="score" font="kelsonsans" value="Score:00" width="6" position="3 5 -6" color="blue"></a-text>

    <a-sphere id="red" color="red" position="-2 0 -7"></a-sphere>
    <a-sphere id="black" color="black" position="-2 3 -7"></a-sphere>
    <a-sphere id="green" color="green" position="0 3 -7"></a-sphere>
    <a-sphere id="yellow" color="yellow" position="2 0 -7"></a-sphere>
    <a-sphere id="blue" color="blue" position="2 3 -7"></a-sphere>



</a-scene>
<script>
    let prenom=document.getElementById('prenom');
    let score=document.getElementById('score');

    let lprenom=localStorage.getItem('prenom');
    let lscore=localStorage.getItem('score');

    let red=document.getElementById('red');
    let green=document.getElementById('green');

    if(lprenom && lscore){
        prenom.setAttribute("value", "Bienvenue "+lprenom);
        score.setAttribute("value", "Score= "+lscore);
    }

    red.addEventListener('click', ()=>{
        let score=document.getElementById('score');
        let lscore=localStorage.getItem('score');
        lscore=parseInt(lscore);
        lscore=lscore+1;
        score.setAttribute("value", "Score= "+lscore);
        localStorage.setItem("score", lscore);
        if(lscore>=2){
            localStorage.setItem('score', 0);
            window.location='scene2.html';
        }

    });
    green.addEventListener('click',()=>{
        let score=document.getElementById('score');
        let lscore=localStorage.getItem('score');
        lscore=lscore-1;
        score.setAttribute("value", "Score= "+lscore);
        localStorage.setItem("score", lscore);


        if(lscore<0){
            localStorage.clear();
            window.location='over.html';
        }
    })
</script>

</body>
</html>