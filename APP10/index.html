<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Positional Audio</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script>
        AFRAME.registerComponent('play', {
            init: function () {
                var myEl = document.querySelector('#yellow');
                this.el.addEventListener('click', function () {
                    myEl.components.sound.playSound();
                });
            }
        });
        AFRAME.registerComponent('stop', {
            init: function () {
                var myEl = document.querySelector('#yellow');
                this.el.addEventListener('click', function () {
                    myEl.components.sound.stopSound();
                });
            }
        });
    </script>
</head>
<body>
<a-scene>
    <a-assets>
        <img id="sky" src="assets/clear-sunny-sky.jpg">
        <audio id="audio1" src="assets/son.mp3"></audio>
        <audio id="audio2" src="assets/son.mp3"></audio>
    </a-assets>
    <a-entity position="0 0 7">
        <a-camera>
            <a-cursor></a-cursor>
        </a-camera>
    </a-entity>
    <a-cylinder color="#0088FF" height="5" position="-2 2.5 0"
                sound="src: #audio1;
        				   on: click;
        				   volume: 1;
        				   refDistance: 4;
        				   rolloffFactor: 4">
        <a-entity sound="src: #audio1; autoplay: false" position="1.396 1.525 0">
        </a-entity>
    </a-cylinder>

    <!-- Yellow Box with Play and Stop Controls -->
    <a-box id="yellow" color="#FFAA00" position="1.5 0.5 0.5" sound="src: #audio1">
        <!-- Play -->
        <a-sphere color="#00AA00" radius="0.25" position="-0.5 1 0" play></a-sphere>
        <!-- Stop -->
        <a-sphere color="#AA0000" radius="0.25" position="0.5 1 0" stop></a-sphere>
    </a-box>
    <a-sky src="#sky"
    sound="src:#audio2; autoplay: true; loop:true; positional:false"></a-sky>
</a-scene>


</body>
</html>